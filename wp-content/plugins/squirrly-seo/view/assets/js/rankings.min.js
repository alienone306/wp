if(typeof SQ_DEBUG==="undefined"){var SQ_DEBUG=false}(function(a){a.extend(a.fn.dataTableExt.oSort,{"formatted-num-pre":function(b){return(parseInt(b)>0)?parseInt(b.replace(/[^\d\-\.]/g,"")):99},"formatted-num-asc":function(d,c){return d-c},"formatted-num-desc":function(d,c){return c-d}});a.fn.sq_Ranking=function(){var b=this;var c;c=b.find("table.table-ranks").DataTable({bPaginate:true,bLengthChange:false,bFilter:true,iDisplayLength:25,columnDefs:[{targets:2,sortable:true,type:"formatted-num"},{targets:3,sortable:true,type:"formatted-num"},{targets:"no-sort",sortable:false}],aaSorting:[2,"asc"]});b.bulkAction=function(){b.find(".sq_bulk_submit").on("click",function(){var e=a(this);if(b.find(".sq_bulk_action").find(":selected").val()!==""){if(b.find(".sq_bulk_action").find(":selected").data("confirm")){if(!confirm(b.find(".sq_bulk_action").find(":selected").data("confirm"))){return}}var d=[];a(b.find(".sq_bulk_input").serializeArray()).each(function(){d.push(a(this).attr("value"))});e.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:b.find(".sq_bulk_action").find(":selected").val(),inputs:d,sq_nonce:sqQuery.nonce}).done(function(f){if(typeof f.message!=="undefined"){a.sq_showMessage(f.message).addClass("sq_success");if(b.find(".sq_bulk_action").find(":selected").val()==="sq_ajax_rank_bulk_refresh"){b.find(".sq_bulk_input").each(function(){if(a(this).is(":checked")){a(this).parents("tr:last").find(".sq_research_doserp").remove();a(this).prop("checked",false)}})}else{if(b.find(".sq_bulk_action").find(":selected").val()==="sq_ajax_rank_bulk_delete"){b.find(".sq_bulk_input").each(function(){if(a(this).is(":checked")){c.row(a(this).parents("tr:last")).remove().draw()}})}else{location.reload()}}}else{if(typeof f.error!=="undefined"){a.sq_showMessage(f.error)}}e.removeClass("sq_minloading")}).fail(function(){e.removeClass("sq_minloading")},"json")}})};b.bulkAction();return b};a(document).ready(function(){if(a("#sq_ranks").find("table.table-ranks").length>0){a("#sq_ranks").sq_Ranking()}a(".sq_research_add_briefcase").each(function(){a(this).on("click",function(){a(this).sq_addBriefcase()})})})})(jQuery);