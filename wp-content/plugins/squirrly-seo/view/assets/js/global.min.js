if(typeof SQ_DEBUG==="undefined"){var SQ_DEBUG=false}(function(c){c.sq_setCookie=function(d,e){e=c.sq_utf8Encode(e);e=e.replace(new RegExp("\\\\","g"),"");document.cookie=d+"="+e+"; expires="+(60*24)+"; path=/"};c.sq_utf8Encode=function(g){var f=[];var d=c.str2utf8ba(g);var e=d.length;for(var h=0;h<e;h++){f.push(String.fromCharCode(d[h]))}return f.join("")};c.sq_getCookie=function(e){var g=e+"=";var d=document.cookie.split(";");for(var f=0;f<d.length;f++){var h=d[f];while(h.charAt(0)==" "){h=h.substring(1,h.length)}if(h.indexOf(g)==0){return h.substring(g.length,h.length)}}return null};c.sq_getHashParam=function(f){var e=location.href.split("#");if(e.length>=2){e.shift();var g=e.join("#");var d=new RegExp("[\\?&#]*"+f+"=([^&#]*)").exec(g);if(d){return d[1]||0}}return false};c.sq_setHashParam=function(l,e){var g=location.href.split("#");if(g.length>=2){var m=true;var j=g.shift();var d=g.join("#");var k=encodeURIComponent(l)+"=";var f=d.split(/[&;]/g);for(var h=f.length;h-->0;){if(f[h].lastIndexOf(k,0)!==-1||f[h]===""){f[h]=f[h].replace(f[h],k+e);m=false;break}}m&&f.push(k+e);location.href=j+"#"+f.join("&")}else{location.href+="#"+l+"="+e}};c.sq_getParam=function b(d){var g=window.location.search.substring(1),f=g.split("&"),h,e;for(e=0;e<f.length;e++){h=f[e].split("=");if(h[0]===d){return h[1]===undefined?true:decodeURIComponent(h[1])}}return false};c.sq_loadChart=function(d){new Chart(d,{type:"bar",data:{labels:["","","","","","",""],datasets:[{data:d.data("values").split(","),borderWidth:0}]},options:{tooltips:{enabled:false},legend:{display:false},layout:{padding:{left:0,right:0,top:0,bottom:0}},title:{display:false},scales:{yAxes:[{display:false,ticks:{beginAtZero:true,min:0,max:1}}],xAxes:[{display:false,ticks:{beginAtZero:true}}]}}})};c.sq_showMessage=function(e,d){c(".sq_alert").remove();if(e.indexOf("<div>")==-1){e=c('<div class="sq_alert position-fixed fixed-top text-center text-white bg-success m-0 p-4 border border-white sq-position-fixed sq-fixed-top sq-text-center sq-text-white sq-bg-success sq-m-0 sq-p-4 sq-border sq-border-white" style="top: 33px !important;">'+e+"</div>")}c("body").prepend(e);if(typeof d==="undefined"){d=2000}setTimeout(function(){e.remove()},d);return e};c.fn.sq_addBriefcase=function(){var d=this;d.addClass("sq_minloading");c.post(sqQuery.ajaxurl,{action:"sq_briefcase_addkeyword",keyword:d.data("keyword"),doserp:parseInt(d.data("doserp")),hidden:parseInt(d.data("hidden")),sq_nonce:sqQuery.nonce}).done(function(e){d.removeClass("sq_minloading");if(typeof e.message!=="undefined"){c.sq_showMessage(e.message).addClass("sq_success");d.closest("tr").addClass("bg-briefcase")}else{if(typeof e.error!=="undefined"){c.sq_showMessage(e.error);d.removeClass("sq_minloading")}else{d.removeClass("sq_minloading");location.reload()}}}).fail(function(){d.removeClass("sq_minloading")})};c.fn.sq_ajaxCallListen=function(){var g=this;var j=c("#"+g.data("input"));var d=g.data("confirm");var i=g.data("action");var f=g.data("redirect");var h=g.data("name");var e=0;if(!j.length){j=g}if(typeof d!=="undefined"){if(!confirm(d)){return}}if(j.is("input")&&j.attr("type")==="checkbox"){if(j.is(":checked")){e=j.val()}}else{if(j.is("select")){e=j.find("option:selected").val()}else{if(j.is("input")&&j.val()!==""){e=j.val()}}}g.addClass("sq_minloading");if(i!==""&&e!==""){c.post(sqQuery.ajaxurl,{action:i,input:h,value:e,referal:location.href,sq_nonce:sqQuery.nonce}).done(function(l){if(typeof l.data!=="undefined"){if(l.data===""){c("#wpbody-content").prepend("Saved")}else{c("#wpbody-content").prepend(l.data)}if(l.assistant!==""&&l.assistant_dest){var k=c(".sq_assistant").find("ul:visible").attr("id");c(l.assistant_dest).html(l.assistant);if(k){c("#"+k).show()}}setTimeout(function(){g.removeClass("sq_minloading");if(typeof f!=="undefined"){window.open(f,"_blank")}else{location.reload()}},1000)}else{if(typeof l.error!=="undefined"){c.sq_showMessage(l.error);g.removeClass("sq_minloading")}else{g.removeClass("sq_minloading");location.reload()}}}).fail(function(){g.removeClass("sq_minloading")},"json")}};c(document).ready(function(){clearTimeout(a);SQ_DEBUG&&console.log("sq_GlobalInit");c("#sq_preloader").remove();c(".sq_trend:visible").each(function(){c.sq_loadChart(c(this))});c(".sq_kr_research").on("show.bs.modal",function(){c.sq_loadChart(c(this).find(".sq_trend"))});if(c(".sq_save_ajax").length>0){c(".sq_save_ajax").find("input").on("change",function(){c(this).sq_ajaxCallListen()});c(".sq_save_ajax").find("button").on("click",function(){c(this).sq_ajaxCallListen()})}c("button.show_advanced").on("click",function(){c(this).hide();c(".sq_advanced").show();c("button.hide_advanced").show()});c("button.hide_advanced").on("click",function(){c(this).hide();c(".sq_advanced").hide();c("button.show_advanced").show()});c("button[type=submit]").not(".noloading").on("click",function(){c(this).addClass("sq_minloading")});c(document).on("keyup",function(e){var d=e.keyCode||e.which;if(d==27){if(!c(".modal").hasClass("show")){if(confirm("Leave Squirrly Settings?")){location.href=c("#sq_btn_toolbar_close").find("a").attr("href")}}else{c(".modal").modal("hide")}}})});var a=setTimeout(function(){alert("A javascript error stops Squirrly from loading. Please check the browser console for errors.")},10000)})(jQuery);